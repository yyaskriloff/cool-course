<script setup>
import Layout from '@/Shared/Layout.vue'
import { Head, Form, Link, usePage } from '@inertiajs/vue3'
import { computed } from 'vue'

const page = usePage()
const errors = computed(() => page.props.errors || {})
</script>

<template>
    <Layout>
        <Head title="Register" />

        <div class="hero min-h-[calc(100vh-16rem)]">
            <div class="hero-content flex-col">
                <div class="card w-96 bg-base-100">
                    <div class="card-body">
                        <h1 class="text-3xl font-bold text-center mb-6">Create Account</h1>

                        <Form action="/register" method="POST">
                            <!-- Name -->
                            <label class="floating-label mb-6">
                                <input 
                                    type="text" 
                                    name="name" 
                                    placeholder="John Doe" 
                                    class="input input-bordered"
                                    :class="{ 'input-error': errors.name }"
                                    required
                                >
                                <span>Name</span>
                            </label>
                            <div v-if="errors.name" class="label -mt-4 mb-2">
                                <span class="label-text-alt text-error">{{ errors.name }}</span>
                            </div>

                            <!-- Email -->
                            <label class="floating-label mb-6">
                                <input 
                                    type="email" 
                                    name="email"
                                    placeholder="mail@example.com" 
                                    class="input input-bordered"
                                    :class="{ 'input-error': errors.email }"
                                    required
                                >
                                <span>Email</span>
                            </label>
                            <div v-if="errors.email" class="label -mt-4 mb-2">
                                <span class="label-text-alt text-error">{{ errors.email }}</span>
                            </div>

                            <!-- Password -->
                            <label class="floating-label mb-6">
                                <input 
                                    type="password" 
                                    name="password" 
                                    placeholder="••••••••"
                                    class="input input-bordered"
                                    :class="{ 'input-error': errors.password }"
                                    required
                                >
                                <span>Password</span>
                            </label>
                            <div v-if="errors.password" class="label -mt-4 mb-2">
                                <span class="label-text-alt text-error">{{ errors.password }}</span>
                            </div>

                            <!-- Password Confirmation -->
                            <label class="floating-label mb-6">
                                <input 
                                    type="password" 
                                    name="password_confirmation" 
                                    placeholder="••••••••"
                                    class="input input-bordered" 
                                    required
                                >
                                <span>Confirm Password</span>
                            </label>

                            <!-- Submit Button -->
                            <div class="form-control mt-8">
                                <button type="submit" class="btn btn-primary btn-sm w-full">
                                    Register
                                </button>
                            </div>
                        </Form>

                        <div class="divider">OR</div>
                        <p class="text-center text-sm">
                            Already have an account?
                            <Link href="/login" class="link link-primary">Sign in</Link>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </Layout>
</template>
